<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />




    <link rel="stylesheet" href="/css/font.css">
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/bootstrap-rtl.css">


    <link rel="stylesheet" href="/css/persian-datepicker.min.css">
    <link rel="stylesheet" href="/css/component-chosen.css">

    
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@mdi/font@6.5.95/css/materialdesignicons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />

    <title>
        <%= title ? title : 'ادمین' %>
    </title>
</head>
<body class="" id="body">
    <nav class="navbar navbar-expand-lg  navbar-light bg-light py-3 col-xl-12 col-lg-12 col-md-12 col-sm-12 border border-bottom"
        style="z-index: 5;">
        <button class="btn mx-3" id="menuBtn" type="button" data-toggle="collapse" data-target="#adminMenu"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class=" position-relative collapse navbar-collapse justify-content-center" style="font-weight:800;">
            <div class="ml-4 mr-auto">
                <a href="/" class="btn btn-secondary btn-sm">صفحه اصلی</a>
                <a href="/user-panel" class="btn btn-success btn-sm">پنل کاربری</a>
                <a href="/logout" class="btn btn-danger btn-sm">خروح</a>
            </div>
        </div>
    </nav>

    <div class="row myRow menuH text-white menuTransition">
        <div class="menuH menuTrans bg-light col-xl-2 col-lg-3 col-lg-2 p-0 border-left border-1" id="menu">
            <ul class="nav PosMenu flex-column fw-bold   HmenuR" id="ulMenu">
                <li class="nav-item  py-1 d-flex align-items-center w-100 ">
                    <a href="/admin" class="nav-link w-100"><i class="bi h5 mx-2 bi-house-door mx-2"></i>داشبورد</a>
                </li>

              
                <li class="nav-item py-1 d-flex align-items-center w-100 flex-column">
                    <a data-toggle="collapse" href="#trainingSection" role="button" 
                        aria-controls="trainingSection" class="nav-link w-100"><i class="bi bi-menu-button-wide h5 mx-2"></i>کلاس‌ها</a>

                    <ul class="collapse" id="trainingSection">
                        <li class="nav-item py-1 d-flex align-items-center">
                            <a href="/admin/courses" class="nav-link w-100"><i
                                    class="bi  bi-journal-bookmark h5 mx-2"></i>کلاس جدید</a>
                        </li>
                        <li class="nav-item py-1 d-flex align-items-center">
                            <a href="/admin/episodes" class="nav-link w-100"><i class="bi bi-people h5 mx-2"></i>ثبت نام</a>
                        </li>
                    </ul>
                </li>
<!-- 
                <li class="nav-item py-1 d-flex align-items-center w-100">
                    <a href="/admin/buy" class="nav-link w-100"><i class="bi h5 bi-file-earmark  mx-2"></i>خرید‌ها</a>
                </li> -->
                <li class="nav-item py-1 d-flex align-items-center w-100">
                    <a href="/admin/user" class="nav-link w-100"><i class="bi h5 bi-person mx-2"></i>کاربران </a>
                </li>

                <li class="nav-item  py-1 d-flex align-items-center w-100">
                    <a href="/admin/premission" class="nav-link w-100"><i class="bi h5 bi-key mx-2"></i>سطح دسترسی</a>
                </li>
                <li class="nav-item py-1 d-flex align-items-center w-100">
                    <a href="/admin/comments" class="nav-link  w-100"><i class="bi h5 bi-person mx-2"></i>کامنت‌ها</a>
                </li>
                <li class="nav-item py-1 d-flex align-items-center w-100">
                    <a href="/admin/category" class="nav-link w-100"><i class="bi h5 bi-app-indicator mx-2"></i>دسته‌ها</a>
                </li>

                <li class="nav-item py-1 d-flex align-items-center w-100">
                    <a href="/admin/assessment" class="nav-link w-100"><i class="bi bi-file-bar-graph mx-2 h5"></i>ارزیابی ماهیانه</a>
                </li>

            </ul>
        </div>

        <div class="menuTrans col-xl-10 col-lg-9 col-md-12 col-sm-12 p-0 " id="mainPage">
            <div>
                <div class="px-3 text-black mt-3">
                    <%-body%>
                </div>
            </div>
        </div>
        
    </div>



    <%- script %>

    <script>
        console.log('afasd')
    </script>

        <script src="/js/jquery-ui.js"></script>
        <script src="/js/popper.min.js"></script>
        <script src="/js/bootstrap.bundle.min.js"></script>
        <script src="/js/chart-main.js"></script>
        <script src="/js/chartjs.js"></script>
        <script src="/js/script.js"></script>
        <script>
            (function () {
                'use strict';
                window.addEventListener('load', function () {
                    // Fetch all the forms we want to apply custom Bootstrap validation styles to
                    var forms = document.getElementsByClassName('needs-validation');
                    // Loop over them and prevent submission
                    var validation = Array.prototype.filter.call(forms, function (form) {
                        form.addEventListener('submit', function (event) {
                            if (form.checkValidity() === false) {
                                event.preventDefault();
                                event.stopPropagation();
                            }
                            form.classList.add('was-validated');
                        }, false);
                    });
                }, false);
            })();
            // bootstrapValidate('#email'  ,'min:5:Enter at least 5 characters!:')
        </script>
        <script src="/js/persian-datepicker.min.js"></script>
        <script src="/js/persian-date.min.js"></script>
        <!-- <script src="node_modules/persian-date/dist/persian-date.js" type="text/javascript"></script> -->
        <script src="./../../../../node_modules/persian-date/dist/persian-date.js" type="text/javascript"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                $(".example1").pDatepicker();
            });
        </script>


        <script>
            let addres =  window.location.pathname
            if (addres.slice(0, 15) == '/admin/courses' || addres.slice(0, 15)  == '/admin/episodes') {
                $('#trainingSection').collapse({
                    toggle: true
                })
            } else {
                cosnole.log('no no no no')
                $('#trainingSection').collapse({
                    toggle: false
                })
            }
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.6/chosen.jquery.min.js"></script>
        <script>
            $('.form-control-chosen').chosen({ });
        </script>

        
        <% let sweetalert = req.flash('sweetalert');
            if(sweetalert.length) {
            let data = sweetalert[0];
         %>
            <script>
                Swal.fire({
                    title: '<%= data.title %>',
                    text: '<%= data.message %>',
                    icon: '<%= data.icon %>',
                    showConfirmButton: <%= data.button !== null ? true : false %>,
                    confirmButtonText: '<%= data.button %>',
                    timer : <%= data.button !== null ? 'null' : data.timer %>,
                })
            </script>
        <% } %>



        <!-- <script src="/js/jquery-3.5.1.slim.min.js"></script> -->
        <!-- <script src="/js/popper.min.js"></script> -->
        <!-- <script src="/js/bootstrap.min.js"></script> -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
        <!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script> -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script> -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script> -->
        <script src="/ckeditor/ckeditor.js"></script>
        <script type="text/javascript">
            CKEDITOR.replace('description', {
                filebrowserUploadUrl: '/admin/upload-image',
            });
        </script>
        <!-- <script src="/js/sweetalert.js"></script> -->
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>

</html>